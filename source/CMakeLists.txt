# CMakeLists for src directory
PROJECT(evlnet)

aux_source_directory(. EVLNET_SRCS)

# shared library
ADD_LIBRARY(evlnet_dynamic SHARED ${EVLNET_SRCS})
TARGET_LINK_LIBRARIES(evlnet_dynamic log4cplusD)
SET(_DYNAMIC_LIB_OUTPUT_NAME "evl_net_dynamic-rtl")
if (CMAKE_SYSTEM_NAME MATCHES "Windows") 
	if (MSVC_COMPILER_VERSION MATCHES "v120")
		SET(_DYNAMIC_LIB_OUTPUT_NAME ${_DYNAMIC_LIB_OUTPUT_NAME}_v120)
	endif()
	
	if (CMAKE_BUILD_TYPE MATCHES "Debug")
		SET(_DYNAMIC_LIB_OUTPUT_NAME ${_DYNAMIC_LIB_OUTPUT_NAME}_debug)
	endif()
	
else()
	
endif()

# static library
ADD_LIBRARY(evlnet_static STATIC ${EVLNET_SRCS})
SET(_STATCI_LIB_OUTPUT_NAME "evl_net_static-rtl")
if (CMAKE_SYSTEM_NAME MATCHES "Windows") 
	if (MSVC_COMPILER_VERSION MATCHES "v120")
		SET(_STATCI_LIB_OUTPUT_NAME ${_STATCI_LIB_OUTPUT_NAME}_v120)
	endif()
	
	if (CMAKE_BUILD_TYPE MATCHES "Debug")
		SET(_STATCI_LIB_OUTPUT_NAME ${_STATCI_LIB_OUTPUT_NAME}_debug)
	endif()
	
else()
	
endif()

SET_TARGET_PROPERTIES(evlnet_static PROPERTIES OUTPUT_NAME ${_STATCI_LIB_OUTPUT_NAME})
SET_TARGET_PROPERTIES(evlnet_static PROPERTIES CLEAN_DIRECT_OUTPUT 1)

SET_TARGET_PROPERTIES(evlnet_dynamic PROPERTIES OUTPUT_NAME ${_DYNAMIC_LIB_OUTPUT_NAME})
SET_TARGET_PROPERTIES(evlnet_dynamic PROPERTIES CLEAN_DIRECT_OUTPUT 1)
